#!/bin/sh

# B: Common C++ library
# Copyright (C) 2002-2007, 2016, 2017 Damon Revoe
#
# This library is free software; you can redistribute it and/or
# modify it under the terms of the GNU Lesser General Public
# License as published by the Free Software Foundation; either
# version 2.1 of the License, or (at your option) any later version.
#
# This library is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
# Lesser General Public License for more details.
#
# You should have received a copy of the GNU Lesser General Public
# License along with this library; if not, write to the Free Software
# Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
#

usage()
{
	cat <<EOF
Usage: uninstalled-config@CONFIG_PARAMS@ [OPTIONS]
Options:
	[--exists]
	[--version]
	[--prefix]
	[--exec-prefix]
	[--flags]
	[--libs]
EOF
	exit $1
}

if test $# -eq 0
then
	usage 1 1>&2
fi

while test $# -gt 0
do
	case "$1" in
	--multithreaded)
		mt_param=" --multithreaded"
		;;
	--debug)
		debug_param=" --debug"
		;;
	--exists)
		check_presence=yes
		;;
	--version)
		echo_version=yes
		;;
	--prefix)
		echo_prefix=yes
		;;
	--exec-prefix)
		echo_exec_prefix=yes
		;;
	--flags)
		echo_flags=yes
		;;
	--libs)
		echo_libs=yes
		;;
	*)
		usage 1 1>&2
		;;
	esac
	shift
done

if test "$mt_param$debug_param" != "@CONFIG_PARAMS@"
then
	echo "uninstalled-config: wrong command line arguments:" 1>&2
	echo "passed:$mt_param$debug_param" 1>&2
	echo "required:@CONFIG_PARAMS@" 1>&2
	exit 1
fi

test -z "$check_presence" || exit 0

test -z "$echo_version" || result="@VERSION@"
test -z "$echo_prefix" || result="$result @UNINST_PREFIX@"
test -z "$echo_exec_prefix" || result="$result @UNINST_PREFIX@"
test -z "$echo_flags" || result="$result @UNINST_FLAGS@"
test -z "$echo_libs" || result="$result @UNINST_LIBS@"

test -z "$result" || echo $result
